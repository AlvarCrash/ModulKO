# ModulKO
Модули КО

29.09.2017<br>
Ввод типа пользователя<br>
Модернизация меню;<br>
Разный вариант меню в зависимости от типа пользователя;<br>

03.10.2017<br>
Вывод списка пользователей - в процессе<br>
Модернизация меню - в процессе<br>

04.10.2017<br>
Похерил все к свиням - буду переписывать!!!

04.10.2017<br>
Правильная структура сайта<br>
Более правильная авторизация<br>
Новый внешний вид без излишеств, но под дальнейшую модернизацию <br>

24.10.2017<br>
Приветствие при логине простого пользователя<br>
Разное меню для разных типов пользователей<br>
Вывод списка пользователей в настройках<br>

08.11.2017<br>
Принято решение использовать jquery<br>
Подключение библиотеки jquery к проекту<br>

13.11.2017<br>
Изменение данных о пользователях на лету через jquery, bootstrap и X-editable<br>
Фраймворки работают локально<br>

15.11.2017<br>
Подключение jquery ui<br>
Кнопка нового пользователя с открывающейся формой для заполнения (форма в процессе)<br>
Кнопки для удаления пользователей - обработка в процессе<br>
Кнопка сохранения убирает форму нового пользователя<br>
Кнопка Сброс Очищает поля - алгоритм есть, но после доработки формы нового пользователя нужно очищать все поля <br>

17.11.2017<br>
Удаление пользователей в таблице через ajax<br>
обновление отображения таблицы пользователей - в доработке <br>

18.11.2017<br>
обновление отображения таблицы пользователей - реализовано! <br>

20.11.2017<br>
Добавлено диалоговое окно для удаления пользователя<br>
Удаление пользователя вынесено в файл ajax.php<br>
Добавление нового пользователя<br>
Добавлен диалог и кнопки для смены пароля пользователя <br>
Механизм смены пароля требует реализации <br>

22.11.2017<br>
Механизм смены пароля - реализовано! <br>
Настроена таблица SPR_BANK <br>
Добавлена страница с основными настройками КО с возможностью добавления, редактирования и удаления данных <br>

27.11.2017<br>
Поправлено отображение страниц, если пользователь не авторизован <br>
Авторизация сделана через ajax <br>
Обработку неправильного логина оставил на потом <br>
Сделана обработка страницы настроек путей <br>
Добавление информации о файлах в базу по нажатию кнопки "Загрузить файлы" <br>
Подсветка имени файла в зависимости от статуса <br>
Заработало разархивирование файлов "на кошечках" - требуется доработать на реальных файлах <br>

28.11.2017<br>
Разархивирование файлов работает корректно <br>
Изменение статуса обработки файлов записывается в БД <br>
Обработку ошибок разархивирования оставил на потом <br>
После разархивации RRFM файлов сканируется каталог зашифрованных файлов и делается запись в таблицу FILES_IN_Z <br>
Путь к архиватору ARJ вынесен в настройки фалового обмена <br>
Добавлена настройка путей к ключам подписи и шифрования - таблица SPR_KEYS <br>
Добавлена таблица FILES_IN_R для расшифрованных файлов <br>
Файлы расшифровываются, кладутся в дерикторию RFRFM, делается запись в таблицу FILES_IN_R <br>
При успешной обработке меняется статус записи зашифрованного файла в таблице FILES_IN_Z <br>
Монтирование директории с ключами в качестве диска А при расшифровке файлов и размонтирование по ее окончании <br>
Добавить изменение времени при повторной обработке файлов <br>
Пути к SCSIGN и BAT файлам вынесены в таблицу SPR_KEYS <br> 

29.11.2017<br>
Убрана привязка к полю ключа при выборе из справочников крипты и каталогов обмена <br>
В справочник директорий файлов добавлен путь к итоговым сообщениям от РФМ <br>
Разархивация расшифрованных файлов в директорию RFM и внесение изменений в БД <br>
В табе итоговых сообщений выводятся только xml файлы, а запись в таблицу делается и на .SIGN <br>
Начата работа по логическуму контролю xml - есть проблемы =( <br>

13.12.2017<br>
Валидация по xsd схеме работает только на apache 2.2 и php 5.4 - пока оставил так, дальше будем разбираться <br>
Если какой-то файл не прошел логический контроль - выводится предупреждение об ошибке и меняется статус файла на красный <br>
Остаемся на последней загруженной вкладке после перезагрузки страницы <br>
Работают все кнопки Обновить на всех вкладках <br>
Добавлена проверка на соответствие имени RRFM <br>
Добавлена таблица с кодами ошибок <br>

14.12.2017<br>
Заведена таблица FILES_ERROR для регистрации ошибок <br>
Реализована проверка на ошибку 0014 <br>
Реализована проверка на ошибку 0005 <br>
Реализована проверка на ошибку 0012 <br>
Реализована проверка на ошибку 0015 - но требуется корректировка логики хранения файлов<br>